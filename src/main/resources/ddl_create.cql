CREATE KEYSPACE IF NOT EXISTS "charybdis_demo" WITH REPLICATION={'class' : 'SimpleStrategy', 'replication_factor' : 1};
CREATE TABLE IF NOT EXISTS "charybdis_demo"."message"("messageid" uuid,"chatroomid" uuid,"authorid" uuid,"authorusername" text,"content" text,"sendingdate" timestamp,"creation_date" timestamp,"last_updated_date" timestamp,PRIMARY KEY("messageid"));
CREATE TABLE IF NOT EXISTS "charybdis_demo"."message_by_chatroom"("creation_date" timestamp,"last_updated_date" timestamp,"messageid" uuid,"chatroomid" uuid,"authorid" uuid,"authorusername" text,"content" text,"sendingdate" timestamp,PRIMARY KEY("chatroomid", "messageid"))WITH CLUSTERING ORDER BY("messageid" ASC);
CREATE TABLE IF NOT EXISTS "charybdis_demo"."chatroom_by_code"("creation_date" timestamp,"last_updated_date" timestamp,"chatroomid" uuid,"chatroomcode" int,"creatorid" uuid,"userids" set<uuid>,"single" boolean,PRIMARY KEY("chatroomcode", "chatroomid"))WITH CLUSTERING ORDER BY("chatroomid" ASC);
CREATE TABLE IF NOT EXISTS "charybdis_demo"."chatroom"("chatroomid" uuid,"chatroomcode" int,"creatorid" uuid,"userids" set<uuid>,"single" boolean,"creation_date" timestamp,"last_updated_date" timestamp,PRIMARY KEY("chatroomid"));
CREATE TABLE IF NOT EXISTS "charybdis_demo"."user"("userid" uuid,"username" text,"creation_date" timestamp,"last_updated_date" timestamp,PRIMARY KEY("userid"));
CREATE INDEX IF NOT EXISTS user_username_idx ON "charybdis_demo"."user"("username");
